{
  "page": 339,
  "title": "14.1 Dynamic Order Statistics",
  "content": "<div class=\"article-header\">\n    <div class=\"section-label\">Section 14.1</div>\n    <h1>Dynamic Order Statistics</h1>\n</div>\n<div class=\"original-content\">\n    <div class=\"definition-box\">\n        <h4>Summary</h4>\n        <p><strong>Augment red-black trees to support rank queries.</strong></p>\n    </div>\n\n    <div class=\"highlight-box\">\n        <h4>Key Points</h4>\n        <ul><li>Add size field to each node: number of nodes in subtree</li>\n<li>OS-SELECT(x, i): find i-th smallest element</li>\n<li>OS-RANK(T, x): find rank of element x</li>\n<li>size[x] = size[x.left] + size[x.right] + 1</li>\n<li>Update sizes during insert/delete/rotate in O(1) per operation</li></ul>\n    </div>\n\n    <div class=\"algorithm\">\n    <h4>Pseudocode</h4>\n    <pre style=\"font-size: 0.85rem; line-height: 1.6;\">OS-SELECT(x, i):\n    r = x.left.size + 1\n    if i == r: return x\n    elif i &lt; r: return OS-SELECT(x.left, i)\n    else: return OS-SELECT(x.right, i - r)\n\nOS-RANK(T, x):\n    r = x.left.size + 1\n    y = x\n    while y â‰  T.root:\n        if y == y.parent.right:\n            r = r + y.parent.left.size + 1\n        y = y.parent\n    return r</pre>\n</div>\n    \n    <div class=\"highlight-box\">\n    <h4>Why It Matters</h4>\n    <p>Find k-th smallest or rank in O(log n). Used in databases.</p>\n</div>\n</div>"
}