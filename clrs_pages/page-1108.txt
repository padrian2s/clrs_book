34.5 NP-complete problems                                                                  1087


                 CIRCUIT-SAT


                      SAT


                  3-CNF-SAT


     CLIQUE                    SUBSET-SUM

VERTEX-COVER


   HAM-CYCLE


        TSP



Figure 34.13 The structure of NP-completeness proofs in Sections 34.4 and 34.5. All proofs ulti-
mately follow by reduction from the NP-completeness of CIRCUIT-SAT.


a graph. As a decision problem, we ask simply whether a clique of a given size k
exists in the graph. The formal deﬁnition is
CLIQUE D fhG; ki W G is a graph containing a clique of size kg :
   A naive algorithm for determining whether a graph G D .V; E/ with jV j ver-
tices has a clique of size k is to list all k-subsets of V , and check each one to
see whether it forms a clique. The running time of this algorithm is .k 2 jVk j /,
which is polynomial if k is a constant. In general, however, k could be near jV j =2,
in which case the algorithm runs in superpolynomial time. Indeed, an efﬁcient
algorithm for the clique problem is unlikely to exist.

Theorem 34.11
The clique problem is NP-complete.

Proof To show that CLIQUE 2 NP, for a given graph G D .V; E/, we use the
set V 0  V of vertices in the clique as a certiﬁcate for G. We can check whether V 0
is a clique in polynomial time by checking whether, for each pair u;  2 V 0 , the
edge .u; / belongs to E.
   We next prove that 3-CNF-SAT P CLIQUE, which shows that the clique prob-
lem is NP-hard. You might be surprised that we should be able to prove such a
result, since on the surface logical formulas seem to have little to do with graphs.
   The reduction algorithm begins with an instance of 3-CNF-SAT. Let  D
C1 ^ C2 ^    ^ Ck be a boolean formula in 3-CNF with k clauses. For r D
