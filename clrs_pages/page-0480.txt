           17.3 The potential method                                                            459


           17.2-2
           Redo Exercise 17.1-3 using an accounting method of analysis.

           17.2-3
           Suppose we wish not only to increment a counter but also to reset it to zero (i.e.,
           make all bits in it 0). Counting the time to examine or modify a bit as ‚.1/,
           show how to implement a counter as an array of bits so that any sequence of n
           I NCREMENT and R ESET operations takes time O.n/ on an initially zero counter.
           (Hint: Keep a pointer to the high-order 1.)



17.3 The potential method

           Instead of representing prepaid work as credit stored with speciﬁc objects in the
           data structure, the potential method of amortized analysis represents the prepaid
           work as “potential energy,” or just “potential,” which can be released to pay for
           future operations. We associate the potential with the data structure as a whole
           rather than with speciﬁc objects within the data structure.
              The potential method works as follows. We will perform n operations, starting
           with an initial data structure D0 . For each i D 1; 2; : : : ; n, we let ci be the actual
           cost of the ith operation and Di be the data structure that results after applying
           the ith operation to data structure Di 1 . A potential function ˆ maps each data
           structure Di to a real number ˆ.Di /, which is the potential associated with data
           structure Di . The amortized cost cyi of the ith operation with respect to potential
           function ˆ is deﬁned by
           cyi D ci C ˆ.Di /  ˆ.Di 1 / :                                                   (17.2)
           The amortized cost of each operation is therefore its actual cost plus the change in
           potential due to the operation. By equation (17.2), the total amortized cost of the n
           operations is
           X
           n              X
                          n
                  cyi   D   .ci C ˆ.Di /  ˆ.Di 1 //
           i D1             i D1
                            X
                            n
                        D          ci C ˆ.Dn /  ˆ.D0 / :                                    (17.3)
                            i D1

           The second equality follows from equation (A.9) because the ˆ.Di / terms tele-
           scope.
                          Pna potential function ˆ so that ˆ.Dn /  ˆ.D0 /, then P
             If we can deﬁne                                                     the total
                                                                                   n
           amortized cost i D1 cyi gives an upper bound on the total actual cost i D1 ci .
