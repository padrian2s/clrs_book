490           Chapter 18 B-Trees


                                    T:root                                                       number
                                                                                        depth    of nodes

                                             1                                            0         1


                    t–1                                      t–1                          1         2
                      t                                        t

         t–1        …         t–1                    t–1     …         t–1                2         2t
          t                     t                     t                  t

      t–1 … t–1           t–1 … t–1              t–1 … t–1         t–1 … t–1              3        2t2



              Figure 18.4 A B-tree of height 3 containing a minimum possible number of keys. Shown inside
              each node x is x: n.


              number n of keys satisﬁes the inequality
                                    X
                                    h
              n  1 C .t  1/              2t i 1
                                    i D1
                                  h    
                                  t 1
                  D 1 C 2.t  1/
                                   t 1
                      h
                  D 2t  1 :
              By simple algebra, we get t h  .n C 1/=2. Taking base-t logarithms of both sides
              proves the theorem.

                 Here we see the power of B-trees, as compared with red-black trees. Although
              the height of the tree grows as O.lg n/ in both cases (recall that t is a constant), for
              B-trees the base of the logarithm can be many times larger. Thus, B-trees save a
              factor of about lg t over red-black trees in the number of nodes examined for most
              tree operations. Because we usually have to access the disk to examine an arbitrary
              node in a tree, B-trees avoid a substantial number of disk accesses.

              Exercises

              18.1-1
              Why don’t we allow a minimum degree of t D 1?

              18.1-2
              For what values of t is the tree of Figure 18.1 a legal B-tree?
