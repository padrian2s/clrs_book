40   Chapter 2 Getting Started


     subproblems become sufﬁciently small. Consider a modiﬁcation to merge sort in
     which n=k sublists of length k are sorted using insertion sort and then merged
     using the standard merging mechanism, where k is a value to be determined.
     a. Show that insertion sort can sort the n=k sublists, each of length k, in ‚.nk/
        worst-case time.

     b. Show how to merge the sublists in ‚.n lg.n=k// worst-case time.

     c. Given that the modiﬁed algorithm runs in ‚.nk C n lg.n=k// worst-case time,
        what is the largest value of k as a function of n for which the modiﬁed algorithm
        has the same running time as standard merge sort, in terms of ‚-notation?

     d. How should we choose k in practice?

     2-2 Correctness of bubblesort
     Bubblesort is a popular, but inefﬁcient, sorting algorithm. It works by repeatedly
     swapping adjacent elements that are out of order.

     B UBBLESORT .A/
     1 for i D 1 to A:length  1
     2      for j D A:length downto i C 1
     3           if AŒj  < AŒj  1
     4                exchange AŒj  with AŒj  1

     a. Let A0 denote the output of B UBBLESORT .A/. To prove that B UBBLESORT is
        correct, we need to prove that it terminates and that

        A0 Œ1  A0 Œ2      A0 Œn ;                                            (2.3)

        where n D A:length. In order to show that B UBBLESORT actually sorts, what
        else do we need to prove?
     The next two parts will prove inequality (2.3).
     b. State precisely a loop invariant for the for loop in lines 2–4, and prove that this
        loop invariant holds. Your proof should use the structure of the loop invariant
        proof presented in this chapter.

     c. Using the termination condition of the loop invariant proved in part (b), state
        a loop invariant for the for loop in lines 1–4 that will allow you to prove in-
        equality (2.3). Your proof should use the structure of the loop invariant proof
        presented in this chapter.
