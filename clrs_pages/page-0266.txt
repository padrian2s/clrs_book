10.3 Implementing pointers and objects                                                       245


free 10            1   2   3   4   5   6   7   8   9    10
            next 5     6 8    2 1                  7    4
  L2 9
             key k1 k2 k3  k5 k6 k7                k9
  L1 3      prev 7 6       1 3 9



Figure 10.8 Two linked lists, L1 (lightly shaded) and L2 (heavily shaded), and a free list (dark-
ened) intertwined.


Exercises

10.3-1
Draw a picture of the sequence h13; 4; 8; 19; 5; 11i stored as a doubly linked list
using the multiple-array representation. Do the same for the single-array represen-
tation.

10.3-2
Write the procedures A LLOCATE -O BJECT and F REE -O BJECT for a homogeneous
collection of objects implemented by the single-array representation.

10.3-3
Why don’t we need to set or reset the pre attributes of objects in the implementa-
tion of the A LLOCATE -O BJECT and F REE -O BJECT procedures?

10.3-4
It is often desirable to keep all elements of a doubly linked list compact in storage,
using, for example, the ﬁrst m index locations in the multiple-array representation.
(This is the case in a paged, virtual-memory computing environment.) Explain
how to implement the procedures A LLOCATE -O BJECT and F REE -O BJECT so that
the representation is compact. Assume that there are no pointers to elements of the
linked list outside the list itself. (Hint: Use the array implementation of a stack.)

10.3-5
Let L be a doubly linked list of length n stored in arrays key, pre, and next of
length m. Suppose that these arrays are managed by A LLOCATE -O BJECT and
F REE -O BJECT procedures that keep a doubly linked free list F . Suppose further
that of the m items, exactly n are on list L and m  n are on the free list. Write
a procedure C OMPACTIFY-L IST .L; F / that, given the list L and the free list F ,
moves the items in L so that they occupy array positions 1; 2; : : : ; n and adjusts the
free list F so that it remains correct, occupying array positions n C1; n C2; : : : ; m.
The running time of your procedure should be ‚.n/, and it should use only a
constant amount of extra space. Argue that your procedure is correct.
