350   Chapter 14 Augmenting Data Structures


                                                                                                     26 26
                                                                                                25                      30
                                                                             19        20
                                                                        17         19
      (a)                                                            16                  21
                                                                15                             23
                                            8        9
                                     6                   10
                                 5              8
            0               3
                0                    5               10           15               20               25              30




                                                                             [16,21]
                                                                                  30

                                                                                                                               int
                                                [8,9]                                                           [25,30]
      (b)                                           23                                                             30          max

                            [5,8]                             [15,23]                         [17,19]                        [26,26]
                                10                              23                              20                             26


                    [0,3]                [6,10]                                                          [19,20]
                     3                     10                                                              20




      Figure 14.4 An interval tree. (a) A set of 10 intervals, shown sorted bottom to top by left endpoint.
      (b) The interval tree that represents them. Each node x contains an interval, shown above the dashed
      line, and the maximum value of any interval endpoint in the subtree rooted at x, shown below the
      dashed line. An inorder tree walk of the tree lists the nodes in sorted order by left endpoint.


      x:max D max.x:int:high; x:left:max; x:right:max/ :
      Thus, by Theorem 14.1, insertion and deletion run in O.lg n/ time. In fact, we
      can update the max attributes after a rotation in O.1/ time, as Exercises 14.2-3
      and 14.3-1 show.

      Step 4: Developing new operations
      The only new operation we need is I NTERVAL -S EARCH .T; i/, which Ô¨Ånds a node
      in tree T whose interval overlaps interval i. If there is no interval that overlaps i in
      the tree, the procedure returns a pointer to the sentinel T:nil.
