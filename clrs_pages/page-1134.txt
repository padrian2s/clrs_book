    35.2 The traveling-salesman problem                                                                       1113



       a               d                       a               d                      a               d

                           e                                       e                                      e

       b               f       g               b               f       g              b               f       g

c                                        c                                       c

             h                                       h                                      h

                 (a)                                     (b)                                    (c)



       a               d                       a               d

                           e                                       e

       b               f       g               b               f       g

c                                        c

             h                                       h

                 (d)                                     (e)



    Figure 35.2 The operation of A PPROX -TSP-T OUR. (a) A complete undirected graph. Vertices lie
    on intersections of integer grid lines. For example, f is one unit to the right and two units up from h.
    The cost function between two points is the ordinary euclidean distance. (b) A minimum spanning
    tree T of the complete graph, as computed by MST-P RIM. Vertex a is the root vertex. Only edges
    in the minimum spanning tree are shown. The vertices happen to be labeled in such a way that they
    are added to the main tree by MST-P RIM in alphabetical order. (c) A walk of T , starting at a. A
    full walk of the tree visits the vertices in the order a; b; c; b; h; b; a; d; e; f; e; g; e; d; a. A preorder
    walk of T lists a vertex just when it is ﬁrst encountered, as indicated by the dot next to each vertex,
    yielding the ordering a; b; c; h; d; e; f; g. (d) A tour obtained by visiting the vertices in the order
    given by the preorder walk, which is the tour H returned by A PPROX -TSP-T OUR. Its total cost
    is approximately 19:074. (e) An optimal tour H  for the original complete graph. Its total cost is
    approximately 14:715.


       Recall from Section 12.1 that a preorder tree walk recursively visits every vertex
    in the tree, listing a vertex when it is ﬁrst encountered, before visiting any of its
    children.
       Figure 35.2 illustrates the operation of A PPROX -TSP-T OUR. Part (a) of the ﬁg-
    ure shows a complete undirected graph, and part (b) shows the minimum spanning
    tree T grown from root vertex a by MST-P RIM. Part (c) shows how a preorder
    walk of T visits the vertices, and part (d) displays the corresponding tour, which is
    the tour returned by A PPROX -TSP-T OUR. Part (e) displays an optimal tour, which
    is about 23% shorter.
