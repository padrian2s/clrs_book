16.1 An activity-selection problem                                                                 417


Making the greedy choice
What if we could choose an activity to add to our optimal solution without having
to ﬁrst solve all the subproblems? That could save us from having to consider all
the choices inherent in recurrence (16.2). In fact, for the activity-selection problem,
we need consider only one choice: the greedy choice.
   What do we mean by the greedy choice for the activity-selection problem? Intu-
ition suggests that we should choose an activity that leaves the resource available
for as many other activities as possible. Now, of the activities we end up choos-
ing, one of them must be the ﬁrst one to ﬁnish. Our intuition tells us, therefore,
to choose the activity in S with the earliest ﬁnish time, since that would leave the
resource available for as many of the activities that follow it as possible. (If more
than one activity in S has the earliest ﬁnish time, then we can choose any such
activity.) In other words, since the activities are sorted in monotonically increasing
order by ﬁnish time, the greedy choice is activity a1 . Choosing the ﬁrst activity
to ﬁnish is not the only way to think of making a greedy choice for this problem;
Exercise 16.1-3 asks you to explore other possibilities.
   If we make the greedy choice, we have only one remaining subproblem to solve:
ﬁnding activities that start after a1 ﬁnishes. Why don’t we have to consider ac-
tivities that ﬁnish before a1 starts? We have that s1 < f1 , and f1 is the earliest
ﬁnish time of any activity, and therefore no activity can have a ﬁnish time less than
or equal to s1 . Thus, all activities that are compatible with activity a1 must start
after a1 ﬁnishes.
   Furthermore, we have already established that the activity-selection problem ex-
hibits optimal substructure. Let Sk D fai 2 S W si  fk g be the set of activities that
start after activity ak ﬁnishes. If we make the greedy choice of activity a1 , then S1
remains as the only subproblem to solve.1 Optimal substructure tells us that if a1
is in the optimal solution, then an optimal solution to the original problem consists
of activity a1 and all the activities in an optimal solution to the subproblem S1 .
   One big question remains: is our intuition correct? Is the greedy choice—in
which we choose the ﬁrst activity to ﬁnish—always part of some optimal solution?
The following theorem shows that it is.

1 We sometimes refer to the sets S
                                k as subproblems rather than as just sets of activities. It will always
be clear from the context whether we are referring to Sk as a set of activities or as a subproblem
whose input is that set.
